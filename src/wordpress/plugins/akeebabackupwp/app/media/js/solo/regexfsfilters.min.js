if("undefined"==typeof akeeba)var akeeba={};"undefined"==typeof akeeba.Regexfsfilters&&(akeeba.Regexfsfilters={currentRoot:null}),akeeba.Regexfsfilters.activeRootChanged=function(){var a=document.getElementById("active_root");akeeba.Regexfsfilters.load(a.options[a.selectedIndex].value)},akeeba.Regexfsfilters.load=function(a){var b={akaction:JSON.stringify({root:a,verb:"list"})};akeeba.System.doAjax(b,function(a){akeeba.Regexfsfilters.render(a)},null,!1,15e3)},akeeba.Regexfsfilters.render=function(a){var b=document.getElementById("ak_list_contents");b.innerHTML="";for(var c,d=0;d<a.length;d++)c=a[d],akeeba.Regexfsfilters.addRow(c,b);akeeba.Regexfsfilters.addNewRow(b)},akeeba.Regexfsfilters.addRow=function(a,b){var c=document.createElement("tr");b.appendChild(c);var d="akion-edit";""==a.item&&(d="akion-plus");var e=document.createElement("td"),f=document.createElement("span"),g=document.createElement("span");e.appendChild(f),e.appendChild(g),c.appendChild(e),f.className="table-icon-container akeeba-btn--teal--mini edit ak-toggle-button",f.insertAdjacentHTML("beforeend","<span class=\""+d+"\"></span>"),akeeba.System.addEventListener(f,"click",function(){var d=["regexfiles","regexdirectories","regexskipdirs","regexskipfiles"],e=document.createElement("select");e.setAttribute("name","type"),e.className="type-select";for(var f=0;f<d.length;f++){var g=d[f],h=!1;g===a.type&&(h=!0);var j=document.createElement("option");h&&j.setAttribute("selected","selected"),j.setAttribute("value",g),j.textContent=akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_"+(g+"").toUpperCase().substr(5)),e.appendChild(j)}c.querySelector("td.ak-type span").style.display="none",c.querySelector("td.ak-type").appendChild(e);var k=document.createElement("input");k.setAttribute("type","text"),k.setAttribute("name","item"),k.setAttribute("size","100"),k.value=a.item,c.querySelector("td.ak-item tt").style.display="none",c.querySelector("td.ak-item").appendChild(k);var l=c.children[0];l.querySelector("span.edit").style.display="none",l.querySelector("span.delete").style.display="none";var m=document.createElement("span");m.className="table-icon-container akeeba-btn--teal--mini save ak-toggle-button",m.insertAdjacentHTML("beforeend","<span class=\"akion-checkmark\"></span>"),akeeba.System.addEventListener(m,"click",function(){var d=c.children[0];d.querySelector("span.delete").style.display="none";var f=e.options[e.selectedIndex].value,g=k.value;if(""===trim(g))return""===a.item?void akeeba.System.triggerEvent(d.querySelector("span.cancel"),"click"):void akeeba.System.triggerEvent(d.querySelector("span.delete"),"click");if(a.item===g&&a.type===f)return void akeeba.System.triggerEvent(d.querySelector("span.cancel"),"click");var h=document.getElementById("active_root"),i={verb:"set",type:f,node:g,root:h.options[h.selectedIndex].value};akeeba.Fsfilters.toggle(i,this,function(){var d=""!=a.item&&""!=a.type&&(a.item!=g||a.type!=f),e=""==a.item||""==a.type,h=c.children[0];if(""==a.item){var j=h.querySelector("span.edit").firstChild;j.className=j.className.replace("akion-plus","akion-edit")}i.type=a.type,i.node=a.item,a.type=f,a.item=g;var k="COM_AKEEBA_FILEFILTERS_TYPE_"+(a.type+"").toUpperCase().substr(5);c.querySelector("td.ak-type span").textContent=akeeba.System.Text._(k),c.querySelector("td.ak-item tt").textContent=escapeHTML(a.item),akeeba.System.triggerEvent(h.querySelector("span.cancel"),"click"),d?(i.verb="remove",akeeba.Fsfilters.toggle(i,this,function(){},!1)):(a.item!=g||a.type!=f||e)&&akeeba.Regexfsfilters.addNewRow(b)},!1)}),l.appendChild(m);var n=document.createElement("span");n.className="table-icon-container akeeba-btn--orange--mini cancel ak-toggle-button",n.insertAdjacentHTML("beforeend","<span class=\"akion-close\"></span>"),akeeba.System.addEventListener(n,"click",function(){var b=c.children[0],d=b.querySelector("span.save");d.parentNode.removeChild(d);var f=b.querySelector("span.cancel");f.parentNode.removeChild(f),b.querySelector("span.edit").style.display="inline-block",""!=a.item&&(b.querySelector("span.delete").style.display="inline-block"),e.parentNode.removeChild(e),c.querySelector("td.ak-type span").style.display="inline-block",k.parentNode.removeChild(k),c.querySelector("td.ak-item tt").style.display="inline"}),l.appendChild(n)}),g.className="table-icon-container akeeba-btn--red--mini delete ak-toggle-button",g.insertAdjacentHTML("beforeend","<span class=\"akion-trash-a\"></span>"),akeeba.System.addEventListener(g,"click",function(){var d=document.getElementById("active_root"),e={verb:"remove",type:a.type,node:a.item,root:d.options[d.selectedIndex].value};akeeba.Fsfilters.toggle(e,this,function(){c.parentNode.removeChild(c),""==a.item&&akeeba.Regexfsfilters.addNewRow(b)},!1)}),""==a.item&&(e.querySelector("span.delete").style.display="none");var h="COM_AKEEBA_FILEFILTERS_TYPE_"+(a.type+"").toUpperCase().substr(5),i=akeeba.System.Text._(h);""==a.type&&(i="");var j=document.createElement("td");j.className="ak-type",j.innerHTML="<span>"+i+"</span>",c.appendChild(j);var k=document.createElement("td");k.className="ak-item",k.innerHTML="<tt>"+(null==a.item?"":escapeHTML(a.item))+"</tt>",c.appendChild(k)},akeeba.Regexfsfilters.addNewRow=function(a){akeeba.Regexfsfilters.addRow({type:"",item:""},a)},akeeba.System.documentReady(function(){akeeba.System.addEventListener("active_root","change",akeeba.Regexfsfilters.activeRootChanged),akeeba.Regexfsfilters.render(akeeba.System.getOptions("akeeba.RegExFileFilter.guiData",{}))});

//# sourceMappingURL=regexfsfilters.min.js.map