if("undefined"==typeof akeeba)var akeeba={};"undefined"==typeof akeeba.Extradirs&&(akeeba.Extradirs={}),akeeba.Extradirs.render=function(a){var b=document.getElementById("ak_list_contents");for(rootname in b.innerHTML="",a)if(a.hasOwnProperty(rootname)){var c=a[rootname];akeeba.Extradirs.addRow(rootname,c,b)}akeeba.Extradirs.addNewRecordButton(b)},akeeba.Extradirs.addRow=function(a,b,c){var d=document.createElement("tr");d.className="ak_filter_row",akeeba.System.data.set(d,"rootuuid",a),akeeba.System.data.set(d,"def",b);var e=document.createElement("td"),f=document.createElement("td"),g=document.createElement("td"),h=document.createElement("td"),i=document.createElement("span");i.className="ak_filter_tab_icon_container akeeba-btn--red--mini delete",akeeba.System.addEventListener(i,"click",function(){var a={uuid:akeeba.System.data.get(this.parentNode.parentNode,"rootuuid"),verb:"remove"};akeeba.Fsfilters.toggle(a,this,function(a,b){if(!0==a.success){var c=b.parentNode.parentNode;c.parentNode.removeChild(c)}})}),i.insertAdjacentHTML("beforeend","<span class=\"akion-trash-a deletebutton ak-toggle-button\"></span>"),e.appendChild(i);var j=document.createElement("span");j.className="ak_filter_tab_icon_container akeeba-btn--teal--mini",akeeba.System.addEventListener(j,"click",function(){var a=this.parentNode.parentNode;this.style.display="none",a.querySelector("span.delete").style.display="none";var b=this.parentNode,d=b.parentNode,e=document.createElement("span");e.className="ak_filter_tab_icon_container akeeba-btn--teal--mini save ak-toggle-button ak-stacked-button",e.insertAdjacentHTML("beforeend","<span class=\"akion-checkmark\"></span>"),akeeba.System.addEventListener(e,"click",function(){var b=this,d=a.querySelector("input.folder_editor").value;d=trim(d);var e=a.querySelector("input.virtual_editor").value;e=trim(e),empty(e)&&(e=Math.uuid(8)+"-"+basename(d));var f=akeeba.System.data.get(a,"def",",");if(f=f.split(",",2),""!=d){var g={uuid:akeeba.System.data.get(a,"rootuuid"),root:d,data:e,verb:"set"};akeeba.Fsfilters.toggle(g,b,function(b,g){if(!0==b.success){if(""==f[0]){var h=g.parentNode.querySelector("span.editbutton");akeeba.System.removeClass(h,"akion-plus"),akeeba.System.addClass(h,"akion-edit ak-toggle-button"),akeeba.Extradirs.addNewRecordButton(c)}var i=[d,e];akeeba.System.data.set(a,"def",i),console.debug(a),a.querySelector("span.ak_directory").textContent=d,a.querySelector("span.ak_virtual").textContent=e,g.parentNode.querySelector("span.ak_filter_tab_icon_container").style.display="inline-block";var j=g.parentNode.querySelector("span.cancel");j.parentNode.removeChild(j),a.querySelector("span.delete").style.display="inline-block",g.parentNode.removeChild(g),j=a.querySelector("input.folder_editor"),j.parentNode.removeChild(j),j=a.querySelector("input.virtual_editor"),j.parentNode.removeChild(j),j=a.querySelector("span.browse"),j.parentNode.removeChild(j),a.querySelector("span.ak_directory").style.display="inline-block",a.querySelector("span.ak_virtual").style.display="inline-block"}},!1)}else if(""==f[0])akeeba.System.triggerEvent(b.parentNode.querySelector("span.cancel"),"click");else{var h=a.querySelector("span.delete");h.style.display="inline-block",akeeba.System.triggerEvent(h,"click")}}),b.appendChild(e);var f=document.createElement("span");f.className="ak_filter_tab_icon_container akeeba-btn--orange--mini cancel ak-toggle-button",f.insertAdjacentHTML("beforeend","<span class=\"akion-close \"></span>"),akeeba.System.addEventListener(f,"click",function(){var b=this;b.parentNode.querySelector("span.ak_filter_tab_icon_container").style.display="inline-block";var c=b.parentNode.querySelector("span.save");c.parentNode.removeChild(c),b.parentNode.removeChild(b),c=a.querySelector("input.folder_editor"),c.parentNode.removeChild(c),c=a.querySelector("input.virtual_editor"),c.parentNode.removeChild(c),c=a.querySelector("span.browse"),c.parentNode.removeChild(c),a.querySelector("span.ak_directory").style.display="inline-block",a.querySelector("span.ak_virtual").style.display="inline-block";var d=akeeba.System.data.get(a,"def",",");d=d.split(",",2),""!=d[0]&&(a.querySelector("span.delete").style.display="inline-block")}),b.appendChild(f);var g=akeeba.System.data.get(a,"def",",");g=g.split(",",2);var h=d.querySelector("td.ak_filter_item"),i=h.nextElementSibling,j=document.createElement("input");j.setAttribute("type","text"),j.setAttribute("size","60"),j.className="folder_editor",j.value=g[0];var k=document.createElement("span");k.className="ak_filter_tab_icon_container akeeba-btn--dark--mini browse ak-toggle-button",k.insertAdjacentHTML("beforeend","<span class=\"akion-folder\"></span>"),akeeba.System.addEventListener(k,"click",function(){var a=this,b=a.parentNode.querySelector("input.folder_editor"),c=trim(b.value);""==c&&(c="[ROOTPARENT]"),akeeba.Configuration.onBrowser(c,b)}),h.appendChild(j),h.appendChild(k);var l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("size","60"),l.className="virtual_editor",l.value=g[1],i.appendChild(l),h.querySelector("span.ak_directory").style.display="none",i.querySelector("span.ak_virtual").style.display="none"}),j.insertAdjacentHTML("beforeend","<span class=\"akion-edit editbutton ak-toggle-button\"></span>"),f.appendChild(j),g.className="ak_filter_item";var k=document.createElement("span");k.className="ak_filter_name ak_directory",k.textContent=b[0],g.appendChild(k),h.className="ak_filter_item";var l=document.createElement("span");l.className="ak_filter_name ak_virtual",l.textContent=b[1],h.appendChild(l),d.appendChild(e),d.appendChild(f),d.appendChild(g),d.appendChild(h),c.appendChild(d)},akeeba.Extradirs.addNewRecordButton=function(a){var b=Math.uuid();akeeba.Extradirs.addRow(b,["",""],a);var c=document.getElementById("ak_list_contents").children,d=c[c.length-1],e=d.querySelectorAll("td");e[0].querySelector("span").style.display="none";var f=e[1].querySelectorAll("span"),g=f[f.length-1];akeeba.System.removeClass(g,"akion-edit"),akeeba.System.addClass(g,"akion-plus ak-toggle-button")},akeeba.System.documentReady(function(){var a=akeeba.System.getOptions("akeeba.IncludeFolders.guiData",null);null===a||(akeeba.Configuration.enablePopoverFor(document.querySelectorAll("[rel=\"popover\"]")),akeeba.Extradirs.render(a))});

//# sourceMappingURL=extradirs.min.js.map