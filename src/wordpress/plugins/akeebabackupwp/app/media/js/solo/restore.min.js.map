{"version":3,"file":"restore.min.js","names":["akeeba","Restore","lastResponseSeconds","timer","errorCallback","statistics","inbytes","outbytes","files","factory","errorCallbackDefault","msg","document","getElementById","style","display","innerHTML","doAjax","data","successCallback","json","JSON","stringify","post_data","restorationPassword","System","getOptions","length","password","now","Date","getTime","s","parseInt","_cacheBustingJunk","Math","round","structure","type","url","cache","timeout","success","junk","message","valid_pos","indexOf","substr","lastIndexOf","parse","err","errorMessage","error","Request","textStatus","text","responseText","status","statusText","readyState","sanitizeErrorMessage","Ajax","ajax","startTimeoutBar","resetTimeoutBar","setInterval","lastText","Text","_","replace","toFixed","querySelector","textContent","e","clearInterval","timerText","pingRestoration","task","start","step","done","bytesIn","bytesOut","post","finalize","preventDefault","finished","window","location","runInstaller","siteURL","open","className","restoreDefaultOptions","jpskey","value","onProcEngineChange","elProcEngine","options","selectedIndex","documentReady","addEventListener","adminForm","submit","Configuration","FtpBrowser","initialise","FtpTest","testConnection","setTimeout"],"sources":["restore.js"],"sourcesContent":["/**\n * @package   solo\n * @copyright Copyright (c)2014-2023 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   GNU General Public License version 3, or later\n */\n\nif (typeof akeeba == \"undefined\")\n{\n    var akeeba = {};\n}\n\nif (typeof akeeba.Restore == \"undefined\")\n{\n    akeeba.Restore = {\n        lastResponseSeconds: 0,\n        timer:               0,\n        errorCallback:       null,\n        statistics:          {\n            inbytes:  0,\n            outbytes: 0,\n            files:    0\n        },\n        factory:             null\n    };\n}\n\n/**\n * Callback script for AJAX errors\n * @param msg\n * @return\n */\nakeeba.Restore.errorCallbackDefault = function (msg)\n{\n    document.getElementById(\"restoration-progress\").style.display = \"none\";\n    document.getElementById(\"restoration-error\").style.display    = \"block\";\n    document.getElementById(\"backup-error-message\").innerHTML     = msg;\n};\n\n/**\n * Performs an AJAX request to the restoration script (restore.php)\n *\n * @param data\n * @param successCallback\n * @param errorCallback\n *\n * @return\n */\nakeeba.Restore.doAjax = function (data, successCallback, errorCallback)\n{\n    json = JSON.stringify(data);\n\n    var post_data = {\n        json: json\n    };\n\n    // Authentication method for Akeeba Restore 5.4.0 or later: send the password\n    var restorationPassword = akeeba.System.getOptions(\"akeeba.Restore.password\", \"\");\n\n    if (restorationPassword.length > 0)\n    {\n        post_data.password = restorationPassword;\n    }\n\n    // Make the request skip the cache appending the microsecond timestamp an extra, ignored query string parameter.\n    var now                     = new Date().getTime() / 1000;\n    var s                       = parseInt(now, 10);\n    post_data._cacheBustingJunk = Math.round((now - s) * 1000);\n\n    var structure =\n            {\n                type:    \"POST\",\n                url:     akeeba.System.getOptions(\"akeeba.Restore.ajaxURL\", \"\"),\n                cache:   false,\n                data:    post_data,\n                timeout: 600000,\n                success: function (msg)\n                         {\n                             // Initialize\n                             var junk    = null;\n                             var message = \"\";\n\n                             /**\n                              * Get rid of junk before the data\n                              *\n                              * DO NOT CHANGE TO '#\"\\\\#\\\\\"#'. We are communicating with restore.php which always\n                              * uses ###. This is NOT a problem as this runs OUTSIDE WordPress and we don't have\n                              * interference by site names containing ###.\n                              */\n                             var valid_pos = msg.indexOf('###');\n\n                             if (valid_pos == -1)\n                             {\n                                 // Valid data not found in the response\n                                 msg = \"Invalid AJAX data: \" + msg;\n\n                                 if (errorCallback == null)\n                                 {\n                                     if (akeeba.Restore.errorCallback != null)\n                                     {\n                                         akeeba.Restore.errorCallback(msg);\n                                     }\n                                     else\n                                     {\n                                         akeeba.Restore.errorCallbackDefault(msg);\n                                     }\n                                 }\n                                 else\n                                 {\n                                     errorCallback(msg);\n                                 }\n\n                                 return;\n                             }\n                             else if (valid_pos != 0)\n                             {\n                                 // Data is prefixed with junk\n                                 junk    = msg.substr(0, valid_pos);\n                                 message = msg.substr(valid_pos);\n                             }\n                             else\n                             {\n                                 message = msg;\n                             }\n\n                             message = message.substr(3); // Remove starting token\n\n                             /**\n                              * Get rid of junk after the data\n                              *\n                              * DO NOT CHANGE TO '#\"\\\\#\\\\\"#'. We are communicating with restore.php which always\n                              * uses ###. This is NOT a problem as this runs OUTSIDE WordPress and we don't have\n                              * interference by site names containing ###.\n                              */\n                             valid_pos = message.lastIndexOf('###');\n                             message   = message.substr(0, valid_pos); // Remove ending token\n\n\n                             try\n                             {\n                                 var data = JSON.parse(message);\n                             }\n                             catch (err)\n                             {\n                                 errorMessage = err.message + \"\\n<br/>\\n<pre>\\n\" + message + \"\\n</pre>\";\n                                 if (errorCallback == null)\n                                 {\n                                     if (akeeba.Restore.errorCallback != null)\n                                     {\n                                         akeeba.Restore.errorCallback(errorMessage);\n                                     }\n                                     else\n                                     {\n                                         akeeba.Restore.errorCallbackDefault(errorMessage);\n                                     }\n                                 }\n                                 else\n                                 {\n                                     errorCallback(errorMessage);\n                                 }\n                                 return;\n                             }\n\n                             // Call the callback function\n                             successCallback(data);\n                         },\n                error:   function (Request, textStatus, errorThrown)\n                         {\n                             var text    = Request.responseText ? Request.responseText : \"\";\n                             var message = \"<strong>AJAX Loading Error</strong><br/>HTTP Status: \" + Request.status + \" (\" +\n                                 Request.statusText + \")<br/>\";\n\n                             message = message + \"Internal status: \" + textStatus + \"<br/>\";\n                             message = message + \"XHR ReadyState: \" + Request.readyState + \"<br/>\";\n                             message = message + \"Raw server response:<br/>\" + akeeba.System.sanitizeErrorMessage(text);\n\n\n                             if (errorCallback == null)\n                             {\n                                 if (akeeba.Restore.errorCallback != null)\n                                 {\n                                     akeeba.Restore.errorCallback(message);\n                                 }\n                                 else\n                                 {\n                                     akeeba.Restore.errorCallbackDefault(message);\n                                 }\n                             }\n                             else\n                             {\n                                 errorCallback(message);\n                             }\n                         }\n            };\n\n    akeeba.Ajax.ajax(structure);\n};\n\n/**\n * Starts the timer for the last response timer\n *\n * @param   max_allowance  Maximum time allowance in seconds\n * @param   bias           Runtime bias in %\n */\nakeeba.Restore.startTimeoutBar = function (max_allowance, bias)\n{\n    akeeba.Restore.resetTimeoutBar();\n\n    akeeba.Restore.timer = setInterval(function ()\n    {\n        akeeba.Restore.lastResponseSeconds++;\n        var lastText = akeeba.System.Text._(\"COM_AKEEBA_BACKUP_TEXT_LASTRESPONSE\")\n                             .replace(\"%s\", akeeba.Restore.lastResponseSeconds.toFixed(0));\n\n        try\n        {\n            document.getElementById(\"response-timer\").querySelector(\"div.text\").textContent = lastText;\n        }\n        catch (e)\n        {\n        }\n    }, 1000);\n};\n\n/**\n * Resets the last response timer bar\n */\nakeeba.Restore.resetTimeoutBar = function ()\n{\n    akeeba.Restore.lastResponseSeconds = 0;\n\n    if (akeeba.Restore.timer == 0)\n    {\n        return;\n    }\n\n    clearInterval(akeeba.Restore.timer);\n    akeeba.Restore.timer = 0;\n\n    var timerText = document.getElementById(\"response-timer\").querySelector(\"div.text\");\n    var lastText  = akeeba.System.Text._(\"COM_AKEEBA_BACKUP_TEXT_LASTRESPONSE\").replace(\"%s\", \"0\");\n\n    try\n    {\n        timerText.textContent = lastText;\n    }\n    catch (e)\n    {\n    }\n};\n\n/**\n * Pings the restoration script (making sure its executable!!)\n * @return\n */\nakeeba.Restore.pingRestoration = function ()\n{\n    // Reset variables\n    akeeba.Restore.statistics.inbytes  = 0;\n    akeeba.Restore.statistics.outbytes = 0;\n    akeeba.Restore.statistics.files    = 0;\n\n    // Do AJAX post\n    var post = {task: \"ping\"};\n    akeeba.Restore.startTimeoutBar(5000, 80);\n    akeeba.Restore.doAjax(post, function (data)\n    {\n        akeeba.Restore.start(data);\n    });\n};\n\n/**\n * Starts the restoration\n * @return\n */\nakeeba.Restore.start = function ()\n{\n    // Reset variables\n    akeeba.Restore.statistics.inbytes  = 0;\n    akeeba.Restore.statistics.outbytes = 0;\n    akeeba.Restore.statistics.files    = 0;\n\n    // Do AJAX post\n    var post = {task: \"startRestore\"};\n    akeeba.Restore.startTimeoutBar(5000, 80);\n    akeeba.Restore.doAjax(post, function (data)\n    {\n        akeeba.Restore.step(data);\n    });\n};\n\n/**\n * Steps through the restoration\n * @param data\n * @return\n */\nakeeba.Restore.step = function (data)\n{\n    akeeba.Restore.resetTimeoutBar();\n\n    if (data.status == false)\n    {\n        // handle failure\n        akeeba.Restore.errorCallbackDefault(data.message);\n    }\n    else\n    {\n        if (data.done)\n        {\n            akeeba.Restore.factory                                          = data.factory;\n            // handle finish\n            document.getElementById(\"restoration-progress\").style.display   = \"none\";\n            document.getElementById(\"restoration-extract-ok\").style.display = \"block\";\n        }\n        else\n        {\n            // Add data to variables\n            akeeba.Restore.statistics.inbytes += data.bytesIn;\n            akeeba.Restore.statistics.outbytes += data.bytesOut;\n            akeeba.Restore.statistics.files += data.files;\n\n            // Display data\n            try\n            {\n                document.getElementById(\"extbytesin\").textContent  = akeeba.Restore.statistics.inbytes;\n                document.getElementById(\"extbytesout\").textContent = akeeba.Restore.statistics.outbytes;\n                document.getElementById(\"extfiles\").textContent    = akeeba.Restore.statistics.files;\n            }\n            catch (e)\n            {\n            }\n\n            // Do AJAX post\n            post = {\n                task:    \"stepRestore\",\n                factory: data.factory\n            };\n            akeeba.Restore.startTimeoutBar(5000, 80);\n            akeeba.Restore.doAjax(post, function (data)\n            {\n                akeeba.Restore.step(data);\n            });\n        }\n    }\n};\n\n/**\n * Finalizes the restoration.\n *\n * @param {Event} e\n *\n * @returns {boolean}  Returns false to cancel the button click\n */\nakeeba.Restore.finalize = function (e)\n{\n    e.preventDefault();\n\n    // Do AJAX post\n    var post = {task: \"finalizeRestore\", factory: akeeba.Restore.factory};\n\n    akeeba.Restore.startTimeoutBar(5000, 80);\n    akeeba.Restore.doAjax(post, function (data)\n    {\n        akeeba.Restore.finished(data);\n    });\n\n    return false;\n};\n\nakeeba.Restore.finished = function ()\n{\n    // We're just finished - return to the back-end Control Panel\n    window.location = akeeba.System.getOptions(\"akeeba.Restore.mainURL\", window.location);\n};\n\n/**\n * Opens a new window / tab with the restoration script\n *\n * @param {Event} e\n *\n * @returns {boolean}  Returns false to cancel the button click event\n */\nakeeba.Restore.runInstaller = function (e)\n{\n    e.preventDefault();\n\n    var siteURL = akeeba.System.getOptions(\"akeeba.Restore.mainURL\", '');\n    window.open(siteURL + \"/installation/index.php\", \"abiinstaller\");\n\n    var runInstaller = document.getElementById(\"restoration-runinstaller\");\n    var finalize     = document.getElementById(\"restoration-finalize\");\n\n    runInstaller.className = \"akeeba-btn--grey--small\";\n    finalize.style.display = \"block\";\n\n    return false;\n};\n\nakeeba.Restore.restoreDefaultOptions = function ()\n{\n    var jpskey = document.getElementById(\"jps_key\");\n\n    if (jpskey)\n    {\n        jpskey.value = \"ChromeIsDumb\";\n        jpskey.value = \"\";\n    }\n};\n\nakeeba.Restore.onProcEngineChange = function (e)\n{\n    var elProcEngine = document.getElementById(\"procengine\");\n\n    if (elProcEngine.options[elProcEngine.selectedIndex].value === \"direct\")\n    {\n        document.getElementById(\"ftpOptions\").style.display = \"none\";\n        document.getElementById(\"testftp\").style.display    = \"none\";\n    }\n    else\n    {\n        document.getElementById(\"ftpOptions\").style.display = \"block\";\n        document.getElementById(\"testftp\").style.display    = \"inline-block\";\n    }\n};\n\nakeeba.System.documentReady(function ()\n{\n    if (akeeba.System.getOptions(\"akeeba.Restore.inMainRestoration\", false))\n    {\n        // Actual restoration page – hook the buttons and start extracting the archive\n\n        akeeba.System.addEventListener(\n            document.getElementById(\"restoration-runinstaller\"), \"click\", akeeba.Restore.runInstaller);\n        akeeba.System.addEventListener(\n            document.getElementById(\"restoration-finalize\"), \"click\", akeeba.Restore.finalize);\n\n        akeeba.Restore.pingRestoration();\n    }\n    else\n    {\n        // Restoration setup page – Hook the buttons and dropdowns\n\n        akeeba.System.addEventListener(\"backup-start\", \"click\", function (e)\n        {\n            e.preventDefault();\n\n            document.adminForm.submit();\n\n            return false;\n        });\n\n        akeeba.System.addEventListener(\"ftp-browse\", \"click\", function (e)\n        {\n            e.preventDefault();\n\n            akeeba.Configuration.FtpBrowser.initialise(\"ftp.initial_directory\", \"ftp\");\n\n            return false;\n        });\n\n        akeeba.System.addEventListener(\"testftp\", \"click\", function (e)\n        {\n            e.preventDefault();\n\n            akeeba.Configuration.FtpTest.testConnection(\"testftp\", \"ftp\");\n\n            return false;\n        });\n\n        akeeba.System.addEventListener(\"procengine\", \"change\", akeeba.Restore.onProcEngineChange);\n\n        akeeba.Restore.onProcEngineChange();\n\n        // Work around Safari which ignores autocomplete=off\n        setTimeout(akeeba.Restore.restoreDefaultOptions, 500);\n    }\n});\n"],"mappings":"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"}