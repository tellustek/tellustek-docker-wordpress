{"version":3,"file":"manage.min.js","names":["akeeba","Manage","remoteManagementModal","uploadModal","downloadModal","infoModal","onRemoteManagementClick","managementUrl","reloadUrl","Modal","open","iframe","width","height","closeCallback","window","location","onUploadClick","uploadURL","onDownloadClick","inheritFrom","inherit","onShowInfoClick","confirmDownload","e","answer","confirm","System","Text","_","clickedElement","target","srcElement","id","data","get","part","newURL","getOptions","documentReady","Tooltip","enableFor","document","querySelectorAll","iterateNodes","el","addEventListener","preventDefault","uploadUrl","dlTarget","infoTarget","setTimeout","howToRestoreModal","close","getElementById","style","display","forms","adminForm","submit"],"sources":["manage.js"],"sourcesContent":["/**\n * @package   solo\n * @copyright Copyright (c)2014-2023 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   GNU General Public License version 3, or later\n */\n\nif (typeof (akeeba) == \"undefined\")\n{\n    var akeeba = {};\n}\n\nif (typeof akeeba.Manage == \"undefined\")\n{\n    akeeba.Manage = {\n        remoteManagementModal: null,\n        uploadModal:           null,\n        downloadModal:         null,\n        infoModal:             null\n    }\n}\n\nakeeba.Manage.onRemoteManagementClick = function (managementUrl, reloadUrl)\n{\n    akeeba.Modal.remoteManagementModal = akeeba.Modal.open({\n        iframe:        managementUrl,\n        width:         \"500\",\n        height:        \"450\",\n        closeCallback: function ()\n                       {\n                           akeeba.Modal.remoteManagementModal = null;\n                           window.location                    = reloadUrl;\n                       }\n    });\n};\n\nakeeba.Manage.onUploadClick = function (uploadURL, reloadUrl)\n{\n    akeeba.Modal.uploadModal = akeeba.Modal.open({\n        iframe:        uploadURL,\n        width:         \"450\",\n        height:        \"280\",\n        closeCallback: function ()\n                       {\n                           akeeba.Modal.remoteManagementModal = null;\n                           window.location                    = reloadUrl;\n                       }\n    });\n};\n\nakeeba.Manage.onDownloadClick = function (inheritFrom)\n{\n    akeeba.Modal.downloadModal = akeeba.Modal.open({\n        inherit: inheritFrom,\n        width:   \"450\",\n        height:  \"280\"\n    });\n};\n\nakeeba.Manage.onShowInfoClick = function (inheritFrom)\n{\n    akeeba.Modal.infoModal = akeeba.Modal.open({\n        inherit: inheritFrom,\n        width:   \"450\",\n        height:  \"280\"\n    });\n};\n\nakeeba.Manage.confirmDownload = function (e)\n{\n    var answer = confirm(akeeba.System.Text._(\"COM_AKEEBA_BUADMIN_LOG_DOWNLOAD_CONFIRM\"));\n\n    if (!answer)\n    {\n        return;\n    }\n\n    var clickedElement = null;\n\n    if (typeof e.target === \"object\")\n    {\n        clickedElement = e.target;\n    }\n    else if (typeof e.srcElement === \"object\")\n    {\n        clickedElement = e.srcElement;\n    }\n\n    if (clickedElement === null)\n    {\n        return;\n    }\n\n    var id   = akeeba.System.data.get(clickedElement, \"id\", \"id1\");\n    var part = akeeba.System.data.get(clickedElement, \"part\", \"\");\n\n    if (id < 0)\n    {\n        return;\n    }\n\n    var newURL = akeeba.System.getOptions(\"akeeba.Manage.downloadURL\") +\n        \"&id=\" + id;\n\n    if ((typeof part === \"undefined\") || (part !== \"\"))\n    {\n        newURL += \"&part=\" + part\n    }\n\n    window.location = newURL;\n};\n\nakeeba.System.documentReady(function ()\n{\n    // Enable tooltips\n    akeeba.Tooltip.enableFor(document.querySelectorAll(\".akeebaCommentPopover\"), false);\n\n    // Add click event handlers to download buttons\n    akeeba.System.iterateNodes(\".comAkeebaManageDownloadButton\", function (el)\n    {\n        akeeba.System.addEventListener(el, \"click\", akeeba.Manage.confirmDownload);\n    });\n\n    akeeba.System.iterateNodes(\".akeeba_remote_management_link\", function (el)\n    {\n        akeeba.System.addEventListener(el, \"click\", function (e)\n        {\n            e.preventDefault();\n\n            var managementUrl = akeeba.System.data.get(el, \"management\", \"\");\n            var reloadUrl     = akeeba.System.data.get(el, \"reload\", \"\");\n\n            if ((managementUrl === \"\") || (reloadUrl === \"\"))\n            {\n                return false;\n            }\n\n            akeeba.Manage.onRemoteManagementClick(managementUrl, reloadUrl);\n\n            return false;\n        });\n    });\n\n    akeeba.System.iterateNodes(\".akeeba_upload\", function (el)\n    {\n        akeeba.System.addEventListener(el, \"click\", function (e)\n        {\n            e.preventDefault();\n\n            var uploadUrl = akeeba.System.data.get(el, \"upload\", \"\");\n            var reloadUrl = akeeba.System.data.get(el, \"reload\", \"\");\n\n            if ((uploadUrl === \"\") || (reloadUrl === \"\"))\n            {\n                return false;\n            }\n\n            akeeba.Manage.onUploadClick(uploadUrl, reloadUrl);\n\n            return false;\n        });\n    });\n\n    akeeba.System.iterateNodes(\".akeeba_download_button\", function (el)\n    {\n        akeeba.System.addEventListener(el, \"click\", function (e)\n        {\n            e.preventDefault();\n\n            var dlTarget = akeeba.System.data.get(el, \"dltarget\", \"\");\n\n            if (dlTarget === \"\")\n            {\n                return false;\n            }\n\n            akeeba.Manage.onDownloadClick(dlTarget);\n\n            return false;\n        });\n    });\n\n    akeeba.System.iterateNodes(\".akeeba_showinfo_link\", function (el)\n    {\n        akeeba.System.addEventListener(el, \"click\", function (e)\n        {\n            e.preventDefault();\n\n            var infoTarget = akeeba.System.data.get(el, \"infotarget\", \"\");\n\n            if (infoTarget === \"\")\n            {\n                return false;\n            }\n\n            akeeba.Manage.onShowInfoClick(infoTarget);\n\n            return false;\n        });\n    });\n\n    // Show the how to restore modal if necessary\n    if (akeeba.System.getOptions(\"akeeba.Manage.ShowHowToRestoreModal\", 0))\n    {\n        setTimeout(function ()\n        {\n            akeeba.System.howToRestoreModal = akeeba.Modal.open({\n                inherit: \"#akeeba-config-howtorestore-bubble\",\n                width:   \"80%\"\n            });\n        }, 500);\n\n        akeeba.System.addEventListener(\"comAkeebaManageCloseHowToRestoreModal\", \"click\", function ()\n        {\n            akeeba.System.howToRestoreModal.close();\n\n            document.getElementById(\"akeeba-config-howtorestore-bubble\").style.display = \"none\";\n        })\n    }\n\n    // Profile filter event handler\n    akeeba.System.addEventListener(\"comAkeebaManageProfileSelector\", \"change\", function ()\n    {\n        document.forms.adminForm.submit();\n    });\n});\n"],"mappings":"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"}