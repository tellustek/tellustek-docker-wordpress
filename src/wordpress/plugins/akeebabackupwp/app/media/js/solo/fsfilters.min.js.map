{"version":3,"file":"fsfilters.min.js","names":["akeeba","Fsfilters","currentRoot","activeRootChanged","elRoot","document","getElementById","data","root","options","selectedIndex","value","crumbs","node","load","activeTabRootChanged","loadTab","verb","json","JSON","stringify","new_data","akaction","System","doAjax","response","render","toggle","caller","callback","use_inner_child","get","set","icon_span","querySelector","existingIconClass","className","timer","setInterval","clearInterval","indexOf","addClass","removeClass","storedClassName","success","newstate","modalErrorHandler","Text","_","replace","msg","params","errorCallback","renderCrumbs","akfolders","innerHTML","length","renderParentFolderElement","Object","keys","folders","headerFilters","headerDirs","createElement","index","filter","ui_icon","setAttribute","toUpperCase","applyTo","insertAdjacentHTML","addEventListener","selected","j","children","folderElement","item","hasClass","parentNode","triggerEvent","appendChild","elButton","folder","hasOwnProperty","def","uielement","available_filters","ctFilter","elFolderName","textContent","elImg","getOptions","style","marginTop","marginLeft","akfiles","files","headerFiles","ctFiles","elFile","elFilename","fileName","ctFileFilter","elName","elSize","nuke","renderTab","addRow","append_to_here","type_text","type","elRow","elFilterTitle","elIcons","elDeleteButton","elRemove","removeChild","activeRoot","elEditButton","inputBox","display","elInput","new_value","that","old_node","new_node","elEditContainer","elFilterName","focus","addNew","filtertype","trList","lastTr","tbody","counter","crumbsdata","newCrumb","push","crumb","slice","akcrumbs","myLi","elLink","elSeparator","elFolderUp","elCrumbs","elParentFolder","documentReady","guiData"],"sources":["fsfilters.js"],"sourcesContent":["/**\n * @package   solo\n * @copyright Copyright (c)2014-2023 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   GNU General Public License version 3, or later\n */\n\n// Object initialisation\nif (typeof akeeba == \"undefined\")\n{\n    var akeeba = {};\n}\n\nif (typeof akeeba.Fsfilters == \"undefined\")\n{\n    akeeba.Fsfilters = {\n        currentRoot: null\n    }\n}\n\nakeeba.Fsfilters.activeRootChanged = function ()\n{\n    var elRoot  = document.getElementById(\"active_root\");\n    var data    = {};\n    data.root   = elRoot.options[elRoot.selectedIndex].value;\n    data.crumbs = [];\n    data.node   = \"\";\n    akeeba.Fsfilters.load(data);\n};\n\nakeeba.Fsfilters.activeTabRootChanged = function ()\n{\n    var elRoot = document.getElementById(\"active_root\");\n    akeeba.Fsfilters.loadTab(elRoot.options[elRoot.selectedIndex].value);\n};\n\n/**\n * Loads the contents of a directory\n *\n * @param  data\n */\nakeeba.Fsfilters.load = function (data)\n{\n    // Add the verb to the data\n    data.verb = \"list\";\n\n    // Convert to JSON\n    var json = JSON.stringify(data);\n\n    // Assemble the data array and send the AJAX request\n    var new_data      = {};\n    new_data.akaction = json;\n\n    akeeba.System.doAjax(new_data, function (response)\n    {\n        akeeba.Fsfilters.render(response);\n    }, null, false, 15000);\n};\n\n/**\n * Toggles a filesystem filter\n */\nakeeba.Fsfilters.toggle = function (data, caller, callback, use_inner_child)\n{\n    if (use_inner_child == null)\n    {\n        use_inner_child = true;\n    }\n\n    // Make the icon spin\n    if (caller != null)\n    {\n        // Do not allow multiple simultaneous AJAX requests on the same object\n        if (akeeba.System.data.get(caller, \"loading\", false) == true)\n        {\n            return;\n        }\n\n        akeeba.System.data.set(caller, \"loading\", true);\n        var icon_span = caller;\n\n        if (use_inner_child)\n        {\n            icon_span = caller.querySelector(\"span\");\n        }\n\n        var existingIconClass = akeeba.System.data.get(caller, \"iconClass\", \"\");\n\n        if (!existingIconClass)\n        {\n            akeeba.System.data.set(caller, \"iconClass\", icon_span.className);\n        }\n\n        icon_span.className = \"ak-toggle-button ak-toggle-button-spinning akion-android-star-outline\";\n\n        var timer = setInterval(function ()\n        {\n            if (typeof icon_span.className === \"undefined\")\n            {\n                clearInterval(timer);\n\n                return;\n            }\n\n            if (icon_span.className.indexOf(\"akion-android-star-outline\") != -1)\n            {\n                akeeba.System.removeClass(icon_span, \"akion-android-star-outline\");\n                akeeba.System.addClass(icon_span, \"akion-android-star\");\n            }\n            else if (icon_span.className.indexOf(\"akion-android-star\") != -1)\n            {\n                akeeba.System.addClass(icon_span, \"akion-android-star-outline\");\n                akeeba.System.removeClass(icon_span, \"akion-android-star\");\n            }\n        }, 250);\n\n        akeeba.System.data.set(caller, \"akeebatimer\", timer);\n    }\n\n    // Convert to JSON\n    var json     = JSON.stringify(data);\n    // Assemble the data array and send the AJAX request\n    var new_data = {\n        akaction: json\n    };\n\n    akeeba.System.doAjax(new_data, function (response)\n    {\n        if (caller != null)\n        {\n            var timer = akeeba.System.data.get(caller, \"akeebatimer\");\n            clearInterval(timer);\n\n            var storedClassName = akeeba.System.data.get(caller, \"iconClass\");\n\n            if (storedClassName)\n            {\n                icon_span.className = storedClassName;\n            }\n\n            akeeba.System.data.set(caller, \"iconClass\", null);\n            akeeba.System.data.set(caller, \"loading\", null);\n        }\n\n        if (response.success == true)\n        {\n            if (caller != null)\n            {\n                if (use_inner_child)\n                {\n                    // Update the on-screen filter state\n                    if (response.newstate == true)\n                    {\n                        akeeba.System.removeClass(caller, \"akeeba-btn--grey\");\n                        akeeba.System.addClass(caller, \"akeeba-btn--orange\");\n                    }\n                    else\n                    {\n                        akeeba.System.removeClass(caller, \"akeeba-btn--orange\");\n                        akeeba.System.addClass(caller, \"akeeba-btn--grey\");\n                    }\n                }\n            }\n\n            if (!(callback == null))\n            {\n                callback(response, caller);\n            }\n        }\n        else\n        {\n            if (!(callback == null))\n            {\n                callback(response, caller);\n            }\n\n            akeeba.System.modalErrorHandler(\n                akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_LABEL_UIERRORFILTER\").replace(\"%s\", data.node));\n        }\n    }, function (msg)\n    {\n        // Error handler\n        if (caller != null)\n        {\n            var timer = akeeba.System.data.get(caller, \"akeebatimer\");\n            clearInterval(timer);\n            icon_span.className = akeeba.System.data.get(caller, \"iconClass\");\n            akeeba.System.data.set(caller, \"iconClass\");\n            akeeba.System.data.set(caller, \"loading\");\n        }\n\n        akeeba.System.params.errorCallback(msg);\n    }, true, 15000);\n};\n\n/**\n * Renders the Filesystem Filters page\n * @param data\n * @return\n */\nakeeba.Fsfilters.render = function (data)\n{\n    akeeba.Fsfilters.currentRoot = data.root;\n\n    // ----- Render the crumbs bar\n    crumbs = akeeba.Fsfilters.renderCrumbs(data);\n\n    // ----- Render the subdirectories\n    var akfolders       = document.getElementById(\"folders\");\n    akfolders.innerHTML = \"\";\n\n    if (data.crumbs.length > 0)\n    {\n        akeeba.Fsfilters.renderParentFolderElement();\n    }\n\n    // Append the \"Apply to all\" buttons\n    if (Object.keys(data.folders).length > 0)\n    {\n        var headerFilters    = [\"directories_all\", \"skipdirs_all\", \"skipfiles_all\"];\n        var headerDirs       = document.createElement(\"div\");\n        headerDirs.className = \"folder-header folder-container\";\n\n        for (var index = 0; index < headerFilters.length; index++)\n        {\n            var filter = headerFilters[index];\n\n            var ui_icon       = document.createElement(\"span\");\n            ui_icon.className = \"folder-icon-container akeeba-btn--mini akeeba-btn--grey\";\n            // ui_icon.setAttribute(\n            //     \"title\",\n            //     \"<div class=\\\"tooltip-arrow-up-leftaligned\\\"></div><div>\" + akeeba.System.Text._(\n            //     \"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()) + \"</div>\"\n            // );\n            // ui_icon.setAttribute(\"data-akeeba-tooltip-position\", \"right\");\n            ui_icon.setAttribute(\"title\", akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()));\n\n            var applyTo = \"\";\n\n            switch (filter)\n            {\n                case \"directories_all\":\n                    applyTo = \"akion-close-circled\";\n                    ui_icon.insertAdjacentHTML(\n                        \"beforeend\", \"<span class=\\\"ak-toggle-button akion-close-circled\\\"></span>\");\n                    break;\n                case \"skipdirs_all\":\n                    applyTo = \"akion-folder\";\n                    ui_icon.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-folder\\\"></span>\");\n                    break;\n                case \"skipfiles_all\":\n                    applyTo = \"akion-document\";\n                    ui_icon.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-document\\\"></span>\");\n                    break;\n            }\n\n            akeeba.System.addEventListener(ui_icon, \"click\", function (ui_icon, applyTo)\n            {\n                return function ()\n                {\n                    var selected;\n\n                    if (ui_icon.className.indexOf(\"akeeba-btn--orange\") != -1)\n                    {\n                        akeeba.System.removeClass(ui_icon, \"akeeba-btn--orange\");\n                        akeeba.System.addClass(ui_icon, \"akeeba-btn--grey\");\n                        selected = false;\n                    }\n                    else\n                    {\n                        akeeba.System.removeClass(ui_icon, \"akeeba-btn--grey\");\n                        akeeba.System.addClass(ui_icon, \"akeeba-btn--orange\");\n                        selected = true;\n                    }\n\n                    // Start iterating from the second element (the first is the header, we want to skip it!)\n                    for (var j = 1; j < akfolders.children.length; j++)\n                    {\n                        var folderElement = akfolders.children[j];\n                        var item          = folderElement.querySelector(\"span.\" + applyTo);\n\n                        var hasClass = item.parentNode.className.indexOf(\"akeeba-btn--orange\") != -1;\n\n                        // I have to exclude items that have the same state of the desired one, otherwise I'll toggle it\n                        if ((!selected && !hasClass) || (selected && hasClass))\n                        {\n                            continue;\n                        }\n\n                        akeeba.System.triggerEvent(item, \"click\");\n                    }\n                };\n            }(ui_icon, applyTo));\n\n            headerDirs.appendChild(ui_icon);\n\n            /**\n             * DO NOT move this before we add the akion-* span. This would make the icon the last child of the button\n             * anchor tag which results in a smaller amount of margin to the right of the icon, making the buttons\n             * look squished. Putting this JS call after we have rendered the icon causes the tooltip markup to be added\n             * after the icon, therefore the CSS renders an equal margin to the left and right of the icon. As a result\n             * the button looks nice and wide.\n             */\n            //akeeba.Tooltip.simpleTooltip(ui_icon);\n        }\n\n        var elButton       = document.createElement(\"span\");\n        elButton.className = \"folder-name\";\n        elButton.innerHTML =\n            \"<span class=\\\"pull-left akion-arrow-down-a\\\"></span>\" + akeeba.System.Text._(\n            \"COM_AKEEBA_FILEFILTERS_TYPE_APPLYTOALLDIRS\");\n        headerDirs.appendChild(elButton);\n        akfolders.appendChild(headerDirs);\n    }\n\n    for (var folder in data.folders)\n    {\n        if (!data.folders.hasOwnProperty(folder))\n        {\n            return;\n        }\n\n        var def = data.folders[folder];\n\n        uielement           = document.createElement(\"div\");\n        uielement.className = \"folder-container\";\n\n        var available_filters = [\"directories\", \"skipdirs\", \"skipfiles\"];\n\n        for (var ctFilter = 0; ctFilter < available_filters.length; ctFilter++)\n        {\n            var filter = available_filters[ctFilter];\n\n            var ui_icon       = document.createElement(\"span\");\n            ui_icon.className = \"akeeba-btn--mini akeeba-btn--grey folder-icon-container\";\n            // ui_icon.setAttribute(\n            //     \"title\",\n            //     \"<div class=\\\"tooltip-arrow-up-leftaligned\\\"></div><div>\" + akeeba.System.Text._(\n            //     \"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()) + \"</div>\"\n            // );\n            ui_icon.setAttribute(\"title\", akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()));\n\n            switch (filter)\n            {\n                case \"directories\":\n                    ui_icon.insertAdjacentHTML(\n                        \"beforeend\", \"<span class=\\\"ak-toggle-button akion-close-circled\\\"></span>\");\n                    break;\n                case \"skipdirs\":\n                    ui_icon.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-folder\\\"></span>\");\n                    break;\n                case \"skipfiles\":\n                    ui_icon.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-document\\\"></span>\");\n                    break;\n            }\n\n            ui_icon.setAttribute(\"data-akeeba-tooltip-position\", \"right\");\n            //akeeba.Tooltip.simpleTooltip(ui_icon);\n\n            switch (def[filter])\n            {\n                case 2:\n                    akeeba.System.removeClass(ui_icon, \"akeeba-btn--grey\");\n                    akeeba.System.addClass(ui_icon, \"akeeba-btn--red\");\n                    break;\n\n                case 1:\n                    akeeba.System.removeClass(ui_icon, \"akeeba-btn--grey\");\n                    akeeba.System.addClass(ui_icon, \"akeeba-btn--orange\");\n\n                // Don't break; we have to add the handler!\n\n                case 0:\n                    akeeba.System.addEventListener(ui_icon, \"click\", function (folder, filter, ui_icon)\n                    {\n                        return function ()\n                        {\n                            var new_data = {\n                                root:   data.root,\n                                crumbs: crumbs,\n                                node:   folder,\n                                filter: filter,\n                                verb:   \"toggle\"\n                            };\n\n                            akeeba.Fsfilters.toggle(new_data, ui_icon);\n                        };\n                    }(folder, filter, ui_icon));\n            }\n\n            uielement.appendChild(ui_icon);\n        }\n\n        // Add the folder label and make clicking on it load its listing\n        var elFolderName         = document.createElement(\"span\");\n        elFolderName.textContent = folder;\n\n        if (def[\"link\"])\n        {\n            elFolderName.innerHTML =\n                \"<span class=\\\"akion-link\\\" aria-hidden=\\\"true\\\"></span> \" + elFolderName.innerHTML;\n        }\n\n        elFolderName.className = \"folder-name\";\n        akeeba.System.addEventListener(elFolderName, \"click\", function (folder)\n        {\n            return function ()\n            {\n                // Show \"loading\" animation\n                var elImg = document.createElement(\"img\");\n                elImg.setAttribute(\"src\", akeeba.System.getOptions(\"akeeba.Fsfilters.loadingGif\", \"\"));\n                elImg.setAttribute(\"width\", 16);\n                elImg.setAttribute(\"height\", 11);\n                elImg.setAttribute(\"border\", 0);\n                elImg.setAttribute(\"alt\", \"Loading...\");\n                elImg.style.marginTop  = \"3px\";\n                elImg.style.marginLeft = \"5px\";\n                this.appendChild(elImg);\n\n                var new_data = {\n                    root:   data.root,\n                    crumbs: crumbs,\n                    node:   folder\n                };\n                akeeba.Fsfilters.load(new_data);\n            };\n        }(folder));\n\n        uielement.appendChild(elFolderName);\n        // Render\n        akfolders.appendChild(uielement);\n    }\n\n    // ----- Render the files\n    var akfiles       = document.getElementById(\"files\");\n    akfiles.innerHTML = \"\";\n\n    // Append the \"Apply to all\" buttons\n    if (Object.keys(data.files).length > 0)\n    {\n        var headerFiles       = document.createElement(\"div\");\n        headerFiles.className = \"file-header file-container\";\n\n        var ui_icon       = document.createElement(\"span\");\n        ui_icon.className = \"file-icon-container akeeba-btn--mini akeeba-btn--grey\";\n        ui_icon.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-close-circled\\\"></span>\");\n\n        // ui_icon.setAttribute(\n        //     \"title\",\n        //     \"<div class=\\\"tooltip-arrow-up-leftaligned\\\"></div><div>\" + akeeba.System.Text._(\n        //     \"COM_AKEEBA_FILEFILTERS_TYPE_FILES_ALL\") + \"</div>\"\n        // );\n        // ui_icon.setAttribute(\"data-akeeba-tooltip-position\", \"right\");\n        //akeeba.Tooltip.simpleTooltip(ui_icon);\n        ui_icon.setAttribute(\"title\", akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_TYPE_FILES_ALL\"));\n\n        akeeba.System.addEventListener(ui_icon, \"click\", function (ui_icon)\n        {\n            return function ()\n            {\n                var selected;\n\n                if (this.className.indexOf(\"akeeba-btn--orange\") != -1)\n                {\n                    akeeba.System.removeClass(this, \"akeeba-btn--orange\");\n                    akeeba.System.addClass(this, \"akeeba-btn--grey\");\n                    selected = false;\n                }\n                else\n                {\n                    akeeba.System.removeClass(this, \"akeeba-btn--grey\");\n                    akeeba.System.addClass(this, \"akeeba-btn--orange\");\n                    selected = true;\n                }\n\n                // We iterate from the second element since we don't want to trigger the header (would cause infinite\n                // loop)\n                var akfiles = document.getElementById(\"files\");\n                for (var ctFiles = 1; ctFiles < akfiles.children.length; ctFiles++)\n                {\n                    var elFile = akfiles.children[ctFiles];\n                    var item   = elFile.querySelector(\"span.akion-close-circled\");\n\n                    var hasClass = item.parentNode.className.indexOf(\"akeeba-btn--orange\") != -1;\n\n                    // I have to exclude items that have the same state of the desidered one, otherwise I'll toggle it\n                    if ((!selected && !hasClass) || (selected && hasClass))\n                    {\n                        continue;\n                    }\n\n                    akeeba.System.triggerEvent(item, \"click\");\n                }\n            };\n        }(ui_icon));\n\n        headerFiles.appendChild(ui_icon);\n\n        var elFilename       = document.createElement(\"span\");\n        elFilename.className = \"file-name\";\n        elFilename.innerHTML =\n            \"<span class=\\\"pull-left akion-arrow-down-a\\\"></span>\" + akeeba.System.Text._(\n            \"COM_AKEEBA_FILEFILTERS_TYPE_APPLYTOALLFILES\");\n        headerFiles.appendChild(elFilename);\n        akfiles.appendChild(headerFiles);\n    }\n\n    for (fileName in data.files)\n    {\n        if (!data.files.hasOwnProperty(fileName))\n        {\n            continue;\n        }\n\n        def = data.files[fileName];\n\n        uielement           = document.createElement(\"div\");\n        uielement.className = \"file-container\";\n\n        var available_filters = [\"files\"];\n\n        for (var ctFileFilter = 0; ctFileFilter < available_filters.length; ctFileFilter++)\n        {\n            var filter = available_filters[ctFileFilter];\n\n            var ui_icon       = document.createElement(\"span\");\n            ui_icon.className = \"file-icon-container akeeba-btn--mini akeeba-btn--grey\";\n\n            switch (filter)\n            {\n                case \"files\":\n                    ui_icon.insertAdjacentHTML(\n                        \"beforeend\", \"<span class=\\\"ak-toggle-button akion-close-circled\\\"></span>\");\n                    break;\n            }\n\n            // ui_icon.setAttribute(\n            //     \"title\",\n            //     \"<div class=\\\"tooltip-arrow-up-leftaligned\\\"></div><div>\" + akeeba.System.Text._(\n            //     \"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()) + \"</div>\"\n            // );\n            // ui_icon.setAttribute(\"data-akeeba-tooltip-position\", \"right\");\n            //akeeba.Tooltip.simpleTooltip(ui_icon);\n            ui_icon.setAttribute(\"title\", akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_TYPE_\" + filter.toUpperCase()));\n\n            switch (def[filter])\n            {\n                case 2:\n                    akeeba.System.removeClass(ui_icon, \"akeeba-btn--grey\");\n                    akeeba.System.addClass(ui_icon, \"akeeba-btn--red\");\n                    break;\n\n                case 1:\n                    akeeba.System.removeClass(ui_icon, \"akeeba-btn--grey\");\n                    akeeba.System.addClass(ui_icon, \"akeeba-btn--orange\");\n                // Don't break; we have to add the handler!\n\n                case 0:\n                    akeeba.System.addEventListener(ui_icon, \"click\", function (fileName, filter, ui_icon)\n                    {\n                        return function ()\n                        {\n                            var new_data = {\n                                root:   data.root,\n                                crumbs: crumbs,\n                                node:   fileName,\n                                filter: filter,\n                                verb:   \"toggle\"\n                            };\n                            akeeba.Fsfilters.toggle(new_data, ui_icon);\n                        };\n                    }(fileName, filter, ui_icon));\n            }\n\n            uielement.appendChild(ui_icon);\n        }\n\n        // Add the file label\n        var elName         = document.createElement(\"span\");\n        elName.className   = \"file-name\";\n        elName.textContent = fileName;\n\n        if (def[\"link\"])\n        {\n            elName.innerHTML = \"<span class=\\\"akion-link\\\" aria-hidden=\\\"true\\\"></span> \" + elName.innerHTML;\n        }\n\n        uielement.appendChild(elName);\n\n        var elSize         = document.createElement(\"span\");\n        elSize.className   = \"file-size\";\n        elSize.textContent = def[\"size\"];\n        uielement.appendChild(elSize);\n\n        // Render\n        akfiles.appendChild(uielement);\n    }\n};\n\n/**\n * Wipes out the filesystem filters\n * @return\n */\nakeeba.Fsfilters.nuke = function ()\n{\n    var data     = {\n        root: akeeba.Fsfilters.currentRoot,\n        verb: \"reset\"\n    };\n    // Assemble the data array and send the AJAX request\n    var new_data = {\n        akaction: JSON.stringify(data)\n    };\n    akeeba.System.doAjax(new_data, function (response)\n    {\n        akeeba.Fsfilters.render(response);\n    }, null, false, 15000);\n};\n\n/**\n * Loads the tabular view of the Filesystems Filter for a given root\n * @param root\n * @return\n */\nakeeba.Fsfilters.loadTab = function (root)\n{\n    var data     = {\n        verb: \"tab\",\n        root: root\n    };\n    // Assemble the data array and send the AJAX request\n    var new_data = {\n        akaction: JSON.stringify(data)\n    };\n    akeeba.System.doAjax(new_data, function (response)\n    {\n        akeeba.Fsfilters.renderTab(response);\n    }, null, false, 15000);\n};\n\n/**\n * Add a row in the tabular view of the Filesystems Filter\n * @param def\n * @param append_to_here\n * @return\n */\nakeeba.Fsfilters.addRow = function (def, append_to_here)\n{\n    // Turn def.type into something human readable\n    var type_text = akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_TYPE_\" + def.type.toUpperCase());\n\n    if (type_text == null)\n    {\n        type_text = def.type;\n    }\n\n    var elRow       = document.createElement(\"tr\");\n    elRow.className = \"ak_filter_row\";\n\n    var elFilterTitle = document.createElement(\"td\");\n    elRow.appendChild(elFilterTitle);\n    elFilterTitle.className = \"ak_filter_type\";\n    elFilterTitle.insertAdjacentHTML(\"beforeend\", type_text);\n\n    var elIcons = document.createElement(\"td\");\n    elRow.appendChild(elIcons);\n    elIcons.className = \"ak_filter_item\";\n\n    var elDeleteButton = document.createElement(\"span\");\n    elIcons.appendChild(elDeleteButton);\n    elDeleteButton.className = \"ak_filter_tab_icon_container akeeba-btn--mini akeeba-btn--red deletecontainer\";\n    akeeba.System.addEventListener(elDeleteButton, \"click\", function ()\n    {\n        if (def.node == \"\")\n        {\n            // An empty filter is normally not saved to the database; it's a new record row which has to be removed...\n            var elRemove = this.parentNode.parentNode;\n            elRemove.parentNode.removeChild(elRemove);\n\n            return;\n        }\n\n        var activeRoot = document.getElementById(\"active_root\");\n\n        var new_data = {\n            root:   activeRoot.options[activeRoot.selectedIndex].value,\n            crumbs: [],\n            node:   def.node,\n            filter: def.type,\n            verb:   \"toggle\"\n        };\n\n        akeeba.Fsfilters.toggle(new_data, this, function (response, caller)\n        {\n            if (response.success)\n            {\n                var elRemove = caller.parentNode.parentNode;\n                elRemove.parentNode.removeChild(elRemove);\n            }\n        });\n    });\n    elDeleteButton.insertAdjacentHTML(\n        \"beforeend\", \"<span class=\\\"ak-toggle-button akion-trash-a deletebutton\\\"></span>\");\n\n    var elEditButton = document.createElement(\"span\");\n    elIcons.appendChild(elEditButton);\n    elEditButton.className = \"ak_filter_tab_icon_container akeeba-btn--mini akeeba-btn--teal editcontainer\";\n    akeeba.System.addEventListener(elEditButton, \"click\", function ()\n    {\n        // If I'm editing there's an input box appended to the parent element of this edit button\n        var inputBox = this.parentNode.querySelector(\"input\");\n\n        // So, if I'm already editing quit; we mustn't show multiple edit boxes!\n        if (inputBox != null)\n        {\n            return;\n        }\n\n        // Hide the text label\n        this.parentNode.querySelector(\"span.ak_filter_name\").style.display = \"none\";\n\n        var elInput = document.createElement(\"input\");\n        elInput.setAttribute(\"type\", \"text\");\n        elInput.setAttribute(\"size\", 60);\n        elInput.value = this.parentNode.querySelector(\"span.ak_filter_name\").textContent;\n        this.parentNode.appendChild(elInput);\n        akeeba.System.addEventListener(elInput, \"blur\", function ()\n        {\n            var new_value = this.value;\n            var that      = this;\n\n            if (new_value == \"\")\n            {\n                // Well, if the user meant to remove the filter, let's help him!\n                akeeba.System.triggerEvent(that.parentNode.querySelector(\"span.deletebutton\"), \"click\");\n\n                return;\n            }\n\n            // First, remove the old filter\n            var elRoot = document.getElementById(\"active_root\");\n\n            var new_data = {\n                root:     elRoot.options[elRoot.selectedIndex].value,\n                crumbs:   [],\n                old_node: def.node,\n                new_node: new_value,\n                filter:   def.type,\n                verb:     \"swap\"\n            };\n\n            var elEditContainer = that.parentNode.querySelector(\"span.editcontainer\");\n\n            akeeba.Fsfilters.toggle(\n                new_data,\n                elEditContainer,\n                function (response, caller)\n                {\n                    // Remove the editor\n                    var elFilterName           = that.parentNode.querySelector(\"span.ak_filter_name\");\n                    elFilterName.style.display = \"inline-block\";\n                    elFilterName.textContent   = new_value;\n\n                    that.parentNode.removeChild(that);\n                    def.node = new_value;\n                }\n            );\n        });\n        elInput.focus();\n    });\n    elEditButton.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"ak-toggle-button akion-edit editbutton\\\"></span>\");\n\n    var elFilterName         = document.createElement(\"span\");\n    elFilterName.className   = \"ak_filter_name\";\n    elFilterName.textContent = def.node;\n    elIcons.appendChild(elFilterName);\n\n    append_to_here.appendChild(elRow);\n};\n\nakeeba.Fsfilters.addNew = function (filtertype)\n{\n    // Add a row below ourselves\n    var new_def = {\n        type: filtertype,\n        node: \"\"\n    };\n    akeeba.Fsfilters.addRow(new_def, document.getElementById(\"ak_list_table\").children[1]);\n\n    var trList = document.getElementById(\"ak_list_table\").children[1].children;\n    var lastTr = trList[trList.length - 1];\n    akeeba.System.triggerEvent(lastTr.querySelector(\"span.editcontainer\"), \"click\");\n};\n\n/**\n * Renders the tabular view of the Filesystems Filter\n * @param data\n * @return\n */\nakeeba.Fsfilters.renderTab = function (data)\n{\n    var tbody       = document.getElementById(\"ak_list_contents\");\n    tbody.innerHTML = \"\";\n\n    for (var counter = 0; counter < data.length; counter++)\n    {\n        var def = data[counter];\n\n        akeeba.Fsfilters.addRow(def, tbody);\n    }\n};\n\nakeeba.Fsfilters.renderCrumbs = function (data)\n{\n    // Create a new crumbs data array\n    var crumbsdata = [];\n    // Push the \"navigate to root\" element\n    var newCrumb   = [\n        akeeba.System.Text._(\"COM_AKEEBA_FILEFILTERS_LABEL_UIROOT\"), // [0] : UI Label\n        data.root,                     // [1] : Root node\n        [],                            // [2] : Crumbs to current directory\n        \"\"                             // [3] : Node element\n    ];\n\n    crumbsdata.push(newCrumb);\n    var counter = 0;\n\n    // Iterate existing crumbs\n    if (data.crumbs.length > 0)\n    {\n        var crumbs = [];\n\n        for (counter = 0; counter < data.crumbs.length; counter++)\n        {\n            var crumb = data.crumbs[counter];\n\n            newCrumb = [\n                crumb,\n                data.root,\n                crumbs.slice(0), // Otherwise it is copied by reference\n                crumb\n            ];\n\n            crumbsdata.push(newCrumb);\n            crumbs.push(crumb); // Push this dir into the crumb list\n        }\n    }\n\n    // Render the UI crumbs elements\n    var akcrumbs       = document.getElementById(\"ak_crumbs\");\n    akcrumbs.innerHTML = \"\";\n\n    var def = null;\n\n    for (counter = 0; counter < crumbsdata.length; counter++)\n    {\n        def      = crumbsdata[counter];\n        var myLi = document.createElement(\"li\");\n\n        var elLink = document.createElement(\"a\");\n        elLink.setAttribute(\"href\", \"javascript:\");\n        def[0]             = def[0].replace(\"&lt;\", \"<\").replace(\"&gt;\", \">\");\n        elLink.textContent = def[0];\n        akeeba.System.addEventListener(elLink, \"click\", function (def)\n        {\n            return function ()\n            {\n                var elImg = document.createElement(\"img\");\n                elImg.setAttribute(\"src\", akeeba.System.getOptions(\"akeeba.Fsfilters.loadingGif\", \"\"));\n                elImg.setAttribute(\"width\", 16);\n                elImg.setAttribute(\"height\", 11);\n                elImg.setAttribute(\"border\", 0);\n                elImg.setAttribute(\"alt\", \"Loading...\");\n                elImg.style.marginTop  = \"5px\";\n                elImg.style.marginLeft = \"5px\";\n                this.appendChild(elImg);\n\n                var new_data = {\n                    root:   def[1],\n                    crumbs: def[2],\n                    node:   def[3]\n                };\n                akeeba.Fsfilters.load(new_data);\n            };\n        }(def));\n\n        myLi.appendChild(elLink);\n\n        var elSeparator         = document.createElement(\"span\");\n        elSeparator.textContent = \"/\";\n        myLi.appendChild(elSeparator);\n\n        akcrumbs.appendChild(myLi);\n    }\n\n    return crumbs;\n};\n\nakeeba.Fsfilters.renderParentFolderElement = function ()\n{\n    var akfolders = document.getElementById(\"folders\");\n\n    // The parent directory element\n    var uielement       = document.createElement(\"div\");\n    uielement.className = \"folder-container folder-header\";\n    uielement.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"folder-padding\\\"></span>\");\n    uielement.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"folder-padding\\\"></span>\");\n    uielement.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"folder-padding\\\"></span>\");\n\n    uielement.insertAdjacentHTML(\"beforeend\", \"<span class=\\\"akion-arrow-up-a\\\"></span>\");\n\n    var elFolderUp       = document.createElement(\"span\");\n    elFolderUp.className = \"folder-name folder-up\";\n\n    var elCrumbs           = document.getElementById(\"ak_crumbs\").children;\n    var elParentFolder     = elCrumbs[elCrumbs.length - 2].querySelector(\"a\");\n    elFolderUp.textContent = \" (\" + elParentFolder.textContent + \")\";\n\n    akeeba.System.addEventListener(elFolderUp, \"click\", function (elParentFolder)\n    {\n        return function ()\n        {\n            akeeba.System.triggerEvent(elParentFolder, \"click\");\n        }\n    }(elParentFolder));\n\n\n    uielement.appendChild(elFolderUp);\n    akfolders.appendChild(uielement);\n};\n\nakeeba.System.documentReady(function ()\n{\n    // This file may be included in the other views. In this case do NOT run our GUI initialization.\n    var guiData = akeeba.System.getOptions(\"akeeba.FileFilters.guiData\", null);\n\n    if (guiData === null)\n    {\n        return;\n    }\n\n    if (akeeba.System.getOptions(\"akeeba.FileFilters.viewType\") === \"list\")\n    {\n        akeeba.Fsfilters.render(guiData);\n        akeeba.System.addEventListener(\"active_root\", \"change\", akeeba.Fsfilters.activeRootChanged);\n    }\n    else\n    {\n        akeeba.Fsfilters.renderTab(guiData);\n        akeeba.System.addEventListener(\"active_root\", \"change\", akeeba.Fsfilters.activeTabRootChanged);\n    }\n\n    akeeba.System.addEventListener(\"comAkeebaFileFiltersNuke\", \"click\", function ()\n    {\n        akeeba.Fsfilters.nuke();\n\n        return false;\n    });\n\n    akeeba.System.addEventListener(\"comAkeebaFileFiltersAddDirectories\", \"click\", function ()\n    {\n        akeeba.Fsfilters.addNew(\"directories\");\n\n        return false;\n    });\n\n    akeeba.System.addEventListener(\"comAkeebaFileFiltersAddSkipfiles\", \"click\", function ()\n    {\n        akeeba.Fsfilters.addNew(\"skipfiles\");\n\n        return false;\n    });\n\n    akeeba.System.addEventListener(\"comAkeebaFileFiltersAddSkipdirs\", \"click\", function ()\n    {\n        akeeba.Fsfilters.addNew(\"skipdirs\");\n\n        return false;\n    });\n\n    akeeba.System.addEventListener(\"comAkeebaFileFiltersAddFiles\", \"click\", function ()\n    {\n        akeeba.Fsfilters.addNew(\"files\");\n\n        return false;\n    });\n});"],"mappings":"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"}